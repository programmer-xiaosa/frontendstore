(window.webpackJsonp=window.webpackJsonp||[]).push([[183],{1754:function(s,t,a){"use strict";a.r(t);var n=a(36),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"在-react-项目中使用-ts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在-react-项目中使用-ts"}},[s._v("#")]),s._v(" 在 React 项目中使用 TS")]),s._v(" "),a("h2",{attrs:{id:"创建新项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建新项目"}},[s._v("#")]),s._v(" 创建新项目")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("命令："),a("code",[s._v("npx create-react-app my-app --template typescript")])])]),s._v(" "),a("li",[a("p",[s._v("说明：在命令行中，添加 "),a("code",[s._v("--template typescript")]),s._v(" 表示创建支持 TS 的项目")])]),s._v(" "),a("li",[a("p",[s._v("项目目录的变化：")]),s._v(" "),a("ol",[a("li",[s._v("在项目根目录中多了一个文件："),a("code",[s._v("tsconfig.json")]),s._v(" "),a("ul",[a("li",[s._v("TS 的配置文件")])])]),s._v(" "),a("li",[s._v("在 src 目录中，文件的后缀有变化，由原来的 .js 变为 "),a("code",[s._v(".ts")]),s._v(" 或 "),a("code",[s._v(".tsx")]),s._v(" "),a("ul",[a("li",[a("code",[s._v(".ts")]),s._v(" ts 文件的后缀名")]),s._v(" "),a("li",[a("code",[s._v(".tsx")]),s._v(" 是在 TS 中使用 React 组件时，需要使用该后缀，只要文件中使用了jsx模板，后缀名必须叫tsx")])])]),s._v(" "),a("li",[s._v("在 src 目录中，多了 "),a("code",[s._v("react-app-env.d.ts")]),s._v(" 文件\n"),a("ul",[a("li",[a("code",[s._v(".d.ts")]),s._v(" 类型声明文件，用来指定类型")])])])])])]),s._v(" "),a("div",{staticClass:"language-jsx line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ts")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ts\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tsx\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ts\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h2",{attrs:{id:"tsconfig的介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tsconfig的介绍"}},[s._v("#")]),s._v(" tsconfig的介绍")]),s._v(" "),a("ul",[a("li",[s._v("tsconfig.json是typescript项目的配置文件，用于配置typescript")]),s._v(" "),a("li",[s._v("tsconfig.json配置文件可以通过 "),a("code",[s._v("tsc --init")]),s._v(" 生成")])]),s._v(" "),a("ul",[a("li",[s._v("说明：所有的配置项都可以通过鼠标移入的方式，来查看配置项的解释说明。")]),s._v(" "),a("li",[a("a",{attrs:{href:"https://www.typescriptlang.org/tsconfig",target:"_blank",rel:"noopener noreferrer"}},[s._v("tsconfig 文档链接"),a("OutboundLink")],1)])]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 编译选项")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"compilerOptions"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 生成代码的语言版本：将我们写的 TS 代码编译成哪个版本的 JS 代码")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 命令行： tsc --target es5 11-测试TS配置文件.ts")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"target"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"es5"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ts内置的库 指定要包含在编译中的 library")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"lib"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dom"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dom.iterable"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"esnext"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 允许 ts 编译器编译 引入的 js 文件")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"allowJs"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 跳过类型声明文件的类型检查")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"skipLibCheck"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// es 模块 互操作，屏蔽 ESModule 和 CommonJS 之间的差异")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"esModuleInterop"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 允许通过 import x from 'y' 即使模块没有显式指定 default 导出")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"allowSyntheticDefaultImports"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 开启严格模式")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"strict"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 对文件名称强制区分大小写  Demo.ts  ")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"forceConsistentCasingInFileNames"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 为 switch 语句启用错误报告")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"noFallthroughCasesInSwitch"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 生成代码的模块化标准")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"module"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"esnext"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 模块解析（查找）策略")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"moduleResolution"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"node"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 允许导入扩展名为.json的模块")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"resolveJsonModule"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 是否将没有 import/export 的文件视为旧（全局而非模块化）脚本文件")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"isolatedModules"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 编译时不生成任何文件（只进行类型检查）")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"noEmit"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 指定将 JSX 编译成什么形式")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"jsx"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"react-jsx"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 指定允许 ts 处理的目录")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"include"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"src"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br")])]),a("h2",{attrs:{id:"类型声明文件-基本介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#类型声明文件-基本介绍"}},[s._v("#")]),s._v(" 类型声明文件-基本介绍")]),s._v(" "),a("p",[s._v("今天几乎所有的 JavaScript 应用都会引入许多第三方库来完成任务需求。")]),s._v(" "),a("p",[s._v("这些第三方库不管是否是用 TS 编写的，最终都要编译成 JS 代码，才能发布给开发者使用。")]),s._v(" "),a("p",[s._v("我们知道是 TS 提供了类型，才有了代码提示和类型保护等机制。")]),s._v(" "),a("p",[s._v("但在项目开发中使用第三方库时，你会发现它们几乎都有相应的 TS 类型，这些类型是怎么来的呢? "),a("code",[s._v("类型声明文件")])]),s._v(" "),a("ul",[a("li",[a("p",[a("strong",[s._v("类型声明文件：用来为已存在的 JS 库提供类型信息")])])]),s._v(" "),a("li",[a("p",[s._v("TS 中有两种文件类型：1 "),a("code",[s._v(".ts")]),s._v(" 文件 2 "),a("code",[s._v(".d.ts")]),s._v(" 文件")])]),s._v(" "),a("li",[a("p",[s._v(".ts 文件:")]),s._v(" "),a("ol",[a("li",[a("code",[s._v("既包含类型信息又可执行代码")])]),s._v(" "),a("li",[s._v("可以被编译为 .js 文件，然后，执行代码")]),s._v(" "),a("li",[s._v("用途：编写程序代码的地方")])])]),s._v(" "),a("li",[a("p",[s._v(".d.ts 文件:")]),s._v(" "),a("ol",[a("li",[a("code",[s._v("只包含类型信息")]),s._v("的类型声明文件")]),s._v(" "),a("li",[a("strong",[s._v("不会生成 .js 文件，仅用于提供类型信息,在.d.ts文件中不允许出现可执行的代码，只用于提供类型")])]),s._v(" "),a("li",[s._v("用途：为 JS 提供类型信息")])])]),s._v(" "),a("li",[a("p",[s._v("总结：.ts 是 "),a("code",[s._v("implementation")]),s._v("(代码实现文件)；"),a("strong",[s._v(".d.ts 是 declaration(类型声明文件)")])])]),s._v(" "),a("li",[a("p",[s._v("如果要为 JS 库提供类型信息，要使用 "),a("code",[s._v(".d.ts")]),s._v(" 文件")])])]),s._v(" "),a("h2",{attrs:{id:"类型声明文件-内置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#类型声明文件-内置文件"}},[s._v("#")]),s._v(" 类型声明文件-内置文件")]),s._v(" "),a("ul",[a("li",[s._v("TS 为 JS 运行时可用的所有标准化内置 API 都提供了声明文件")]),s._v(" "),a("li",[s._v("比如，在使用数组时，数组所有方法都会有相应的代码提示以及类型信息:")])]),s._v(" "),a("div",{staticClass:"language-ts line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" strs "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'b'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'c'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 鼠标放在 forEach 上查看类型")]),s._v("\nstrs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("forEach\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[s._v("实际上这都是 TS 提供的内置类型声明文件")]),s._v(" "),a("li",[s._v("可以通过 Ctrl + 鼠标左键(Mac：Command + 鼠标左键)来查看内置类型声明文件内容")]),s._v(" "),a("li",[s._v("比如，查看 forEach 方法的类型声明，在 VSCode 中会自动跳转到 "),a("code",[s._v("lib.es5.d.ts")]),s._v(" 类型声明文件中")]),s._v(" "),a("li",[s._v("当然，像 window、document 等 BOM、DOM API 也都有相应的类型声明("),a("code",[s._v("lib.dom.d.ts")]),s._v(")")])]),s._v(" "),a("h2",{attrs:{id:"类型声明文件-第三方库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#类型声明文件-第三方库"}},[s._v("#")]),s._v(" 类型声明文件-第三方库")]),s._v(" "),a("ul",[a("li",[s._v("目前，几乎所有常用的第三方库都有相应的类型声明文件")]),s._v(" "),a("li",[s._v("第三方库的类型声明文件有两种存在形式:1 库自带类型声明文件 2 由 DefinitelyTyped 提供。")])]),s._v(" "),a("ol",[a("li",[s._v("库自带类型声明文件：比如，axios")])]),s._v(" "),a("ul",[a("li",[s._v("查看 "),a("code",[s._v("node_modules/axios")]),s._v(" 目录")])]),s._v(" "),a("p",[s._v("解释：这种情况下，正常导入该库，"),a("strong",[s._v("TS 就会自动加载库自己的类型声明文件")]),s._v("，以提供该库的类型声明。")]),s._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[s._v("由 DefinitelyTyped 提供")])]),s._v(" "),a("ul",[a("li",[s._v("DefinitelyTyped 是一个 github 仓库，用来提供高质量 TypeScript 类型声明")]),s._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/DefinitelyTyped/DefinitelyTyped/",target:"_blank",rel:"noopener noreferrer"}},[s._v("DefinitelyTyped 链接"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("可以通过 npm/yarn 来下载该仓库提供的 TS 类型声明包，这些包的名称格式为:"),a("code",[s._v("@types/*")])]),s._v(" "),a("li",[s._v("比如，@types/react、@types/lodash 等")]),s._v(" "),a("li",[s._v("说明：在实际项目开发时，如果你使用的第三方库没有自带的声明文件，VSCode 会给出明确的提示")])]),s._v(" "),a("div",{staticClass:"language-ts line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" _ "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'lodash'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在 VSCode 中，查看 'lodash' 前面的提示")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[s._v("解释：当安装 "),a("code",[s._v("@types/*")]),s._v(" 类型声明包后，"),a("strong",[s._v("TS 也会自动加载该类声明包")]),s._v("，以提供该库的类型声明")]),s._v(" "),a("li",[s._v("补充：TS 官方文档提供了一个页面，可以来查询 @types/* 库")]),s._v(" "),a("li",[a("a",{attrs:{href:"https://www.typescriptlang.org/dt",target:"_blank",rel:"noopener noreferrer"}},[s._v("@types/* 库"),a("OutboundLink")],1)])]),s._v(" "),a("h2",{attrs:{id:"类型声明文件-自定义"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#类型声明文件-自定义"}},[s._v("#")]),s._v(" 类型声明文件-自定义")]),s._v(" "),a("blockquote",[a("p",[s._v("项目内共享类型")])]),s._v(" "),a("ul",[a("li",[s._v("如果多个 .ts 文件中都用到同一个类型，此时可以创建 .d.ts 文件提供该类型，实现类型共享。")]),s._v(" "),a("li",[s._v("操作步骤:\n"),a("ol",[a("li",[s._v("创建 index.d.ts 类型声明文件。")]),s._v(" "),a("li",[s._v("创建需要共享的类型，并使用 export 导出(TS 中的类型也可以使用 import/export 实现模块化功能)。")]),s._v(" "),a("li",[s._v("在需要使用共享类型的 .ts 文件中，通过 import 导入即可(.d.ts 后缀导入时，直接省略)。")])])])]),s._v(" "),a("blockquote",[a("p",[s._v("为已有 JS 文件提供类型声明")])]),s._v(" "),a("ol",[a("li",[s._v("在将 JS 项目迁移到 TS 项目时，为了让已有的 .js 文件有类型声明。")]),s._v(" "),a("li",[s._v("成为库作者，创建库给其他人使用。")])]),s._v(" "),a("ul",[a("li",[s._v("演示:基于最新的 ESModule(import/export)来为已有 .js 文件，创建类型声明文件。")])]),s._v(" "),a("blockquote",[a("p",[s._v("类型声明文件的使用说明")])]),s._v(" "),a("ul",[a("li",[s._v("说明:TS 项目中也可以使用 .js 文件。")]),s._v(" "),a("li",[s._v("说明:在导入 .js 文件时，TS 会自动加载与 .js 同名的 .d.ts 文件，以提供类型声明。")]),s._v(" "),a("li",[s._v("declare 关键字:用于类型声明，为其他地方(比如，.js 文件)已存在的变量声明类型，而不是创建一个新的变量。\n"),a("ol",[a("li",[s._v("对于 type、interface 等这些明确就是 TS 类型的(只能在 TS 中使用的)，可以省略 declare 关键字。")]),s._v(" "),a("li",[s._v("对于 let、function 等具有双重含义(在 JS、TS 中都能用)，应该使用 declare 关键字，明确指定此处用于类型声明。")])])])]),s._v(" "),a("div",{staticClass:"language-jsx line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" count "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" songName "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'痴心绝对'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" position "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("x")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("y")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" y")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" x "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" y\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("changeDirection")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("direction")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("direction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("fomartPoint")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("point")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'当前坐标：'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" point"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" songName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" position"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" add"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" changeDirection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" fomartPoint "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("p",[s._v("定义类型声明文件")]),s._v(" "),a("div",{staticClass:"language-jsx line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[s._v("declare "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("number\n\ndeclare "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("songName")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" string\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Position")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("x")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("y")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" number\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\ndeclare "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("position")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Position\n\ndeclare "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("x")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("y")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" number")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" number\n\ntype Direction "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'left'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'right'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'top'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'bottom'")]),s._v("\n\ndeclare "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("changeDirection")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("direction")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Direction")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v("\n\ntype "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("FomartPoint")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("point")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Position")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v("\n\ndeclare "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("fomartPoint")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" FomartPoint\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" songName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" position"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" add"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" changeDirection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" FomartPoint"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" fomartPoint\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);