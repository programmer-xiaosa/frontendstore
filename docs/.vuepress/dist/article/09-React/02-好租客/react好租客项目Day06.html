<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>axios优化&amp;环境变量 | 程序猿小萨</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/my-blog/img/favicon.ico">
    <link rel="icon" href="/my-blog/logo.jpg">
    <link rel="stylesheet" href="/my-blog/css/style.css">
    <link rel="stylesheet" href="/my-blog/styles/style.css">
    <meta name="description" content="学的不仅是技术，更是梦想">
    
    <link rel="preload" href="/my-blog/assets/css/0.styles.ecc0b0a4.css" as="style"><link rel="preload" href="/my-blog/assets/js/app.7c428a71.js" as="script"><link rel="preload" href="/my-blog/assets/js/3.bb9bf636.js" as="script"><link rel="preload" href="/my-blog/assets/js/85.87853e7d.js" as="script"><link rel="prefetch" href="/my-blog/assets/js/10.4db2ee45.js"><link rel="prefetch" href="/my-blog/assets/js/100.2fffb30e.js"><link rel="prefetch" href="/my-blog/assets/js/101.07c4c005.js"><link rel="prefetch" href="/my-blog/assets/js/102.a4f5f2ab.js"><link rel="prefetch" href="/my-blog/assets/js/103.04dc7d20.js"><link rel="prefetch" href="/my-blog/assets/js/104.db19c071.js"><link rel="prefetch" href="/my-blog/assets/js/105.c5076a7d.js"><link rel="prefetch" href="/my-blog/assets/js/106.016b2a8e.js"><link rel="prefetch" href="/my-blog/assets/js/107.69361372.js"><link rel="prefetch" href="/my-blog/assets/js/108.6b873487.js"><link rel="prefetch" href="/my-blog/assets/js/109.dcef6f03.js"><link rel="prefetch" href="/my-blog/assets/js/11.8e0ecf79.js"><link rel="prefetch" href="/my-blog/assets/js/110.c075c081.js"><link rel="prefetch" href="/my-blog/assets/js/111.5ceacc7b.js"><link rel="prefetch" href="/my-blog/assets/js/112.806029be.js"><link rel="prefetch" href="/my-blog/assets/js/113.09282625.js"><link rel="prefetch" href="/my-blog/assets/js/114.cc121a77.js"><link rel="prefetch" href="/my-blog/assets/js/115.b65535b0.js"><link rel="prefetch" href="/my-blog/assets/js/116.1c60e297.js"><link rel="prefetch" href="/my-blog/assets/js/117.76c88f9c.js"><link rel="prefetch" href="/my-blog/assets/js/118.489369fd.js"><link rel="prefetch" href="/my-blog/assets/js/119.57ce1dd4.js"><link rel="prefetch" href="/my-blog/assets/js/12.59bafcb5.js"><link rel="prefetch" href="/my-blog/assets/js/120.eb88579c.js"><link rel="prefetch" href="/my-blog/assets/js/121.df569222.js"><link rel="prefetch" href="/my-blog/assets/js/122.8fe90413.js"><link rel="prefetch" href="/my-blog/assets/js/123.e95c7eb0.js"><link rel="prefetch" href="/my-blog/assets/js/124.142e1289.js"><link rel="prefetch" href="/my-blog/assets/js/125.ec039450.js"><link rel="prefetch" href="/my-blog/assets/js/126.ebbdc164.js"><link rel="prefetch" href="/my-blog/assets/js/127.9668af23.js"><link rel="prefetch" href="/my-blog/assets/js/128.c84d1e01.js"><link rel="prefetch" href="/my-blog/assets/js/129.1ccbf3a8.js"><link rel="prefetch" href="/my-blog/assets/js/13.51370618.js"><link rel="prefetch" href="/my-blog/assets/js/130.d37460df.js"><link rel="prefetch" href="/my-blog/assets/js/131.252accbf.js"><link rel="prefetch" href="/my-blog/assets/js/132.f8871372.js"><link rel="prefetch" href="/my-blog/assets/js/133.f076c159.js"><link rel="prefetch" href="/my-blog/assets/js/134.938aafc4.js"><link rel="prefetch" href="/my-blog/assets/js/135.98d31db1.js"><link rel="prefetch" href="/my-blog/assets/js/136.436cd1b2.js"><link rel="prefetch" href="/my-blog/assets/js/137.bcf9e8e3.js"><link rel="prefetch" href="/my-blog/assets/js/138.931f7d6b.js"><link rel="prefetch" href="/my-blog/assets/js/139.60f9454a.js"><link rel="prefetch" href="/my-blog/assets/js/14.4932591f.js"><link rel="prefetch" href="/my-blog/assets/js/140.0598b3ce.js"><link rel="prefetch" href="/my-blog/assets/js/141.24477031.js"><link rel="prefetch" href="/my-blog/assets/js/142.10be2079.js"><link rel="prefetch" href="/my-blog/assets/js/143.23926a00.js"><link rel="prefetch" href="/my-blog/assets/js/144.cffffaeb.js"><link rel="prefetch" href="/my-blog/assets/js/145.4fe5c915.js"><link rel="prefetch" href="/my-blog/assets/js/146.71845fac.js"><link rel="prefetch" href="/my-blog/assets/js/147.40c724c6.js"><link rel="prefetch" href="/my-blog/assets/js/148.d839c855.js"><link rel="prefetch" href="/my-blog/assets/js/149.f47967d5.js"><link rel="prefetch" href="/my-blog/assets/js/15.8ef5c91f.js"><link rel="prefetch" href="/my-blog/assets/js/150.a890b37c.js"><link rel="prefetch" href="/my-blog/assets/js/151.9db60f3a.js"><link rel="prefetch" href="/my-blog/assets/js/152.3f907e4b.js"><link rel="prefetch" href="/my-blog/assets/js/153.4433e611.js"><link rel="prefetch" href="/my-blog/assets/js/154.13ffa368.js"><link rel="prefetch" href="/my-blog/assets/js/155.192cb54f.js"><link rel="prefetch" href="/my-blog/assets/js/156.ba129467.js"><link rel="prefetch" href="/my-blog/assets/js/157.35b396b5.js"><link rel="prefetch" href="/my-blog/assets/js/158.942acf61.js"><link rel="prefetch" href="/my-blog/assets/js/159.7b355eba.js"><link rel="prefetch" href="/my-blog/assets/js/16.17b3c170.js"><link rel="prefetch" href="/my-blog/assets/js/160.eda036e7.js"><link rel="prefetch" href="/my-blog/assets/js/161.2f2ec8cb.js"><link rel="prefetch" href="/my-blog/assets/js/162.dd99b22d.js"><link rel="prefetch" href="/my-blog/assets/js/163.55e1aec2.js"><link rel="prefetch" href="/my-blog/assets/js/164.29b45d76.js"><link rel="prefetch" href="/my-blog/assets/js/165.d47db04a.js"><link rel="prefetch" href="/my-blog/assets/js/166.eff613ae.js"><link rel="prefetch" href="/my-blog/assets/js/167.a9f08670.js"><link rel="prefetch" href="/my-blog/assets/js/168.f458a27f.js"><link rel="prefetch" href="/my-blog/assets/js/169.ec40acdd.js"><link rel="prefetch" href="/my-blog/assets/js/17.24ff5731.js"><link rel="prefetch" href="/my-blog/assets/js/170.9e988a8d.js"><link rel="prefetch" href="/my-blog/assets/js/171.59329201.js"><link rel="prefetch" href="/my-blog/assets/js/172.8e6df937.js"><link rel="prefetch" href="/my-blog/assets/js/173.a6f00b7a.js"><link rel="prefetch" href="/my-blog/assets/js/174.1dd5efe8.js"><link rel="prefetch" href="/my-blog/assets/js/175.90da8e24.js"><link rel="prefetch" href="/my-blog/assets/js/176.141d880d.js"><link rel="prefetch" href="/my-blog/assets/js/177.079b5b05.js"><link rel="prefetch" href="/my-blog/assets/js/178.ebd59b63.js"><link rel="prefetch" href="/my-blog/assets/js/179.b335165a.js"><link rel="prefetch" href="/my-blog/assets/js/18.b34227e5.js"><link rel="prefetch" href="/my-blog/assets/js/180.67d9ab46.js"><link rel="prefetch" href="/my-blog/assets/js/181.9b301e35.js"><link rel="prefetch" href="/my-blog/assets/js/182.0e102a2d.js"><link rel="prefetch" href="/my-blog/assets/js/183.43459312.js"><link rel="prefetch" href="/my-blog/assets/js/184.fda40b25.js"><link rel="prefetch" href="/my-blog/assets/js/185.2fdcdc84.js"><link rel="prefetch" href="/my-blog/assets/js/186.3f31eaf2.js"><link rel="prefetch" href="/my-blog/assets/js/187.281d1436.js"><link rel="prefetch" href="/my-blog/assets/js/188.d5224015.js"><link rel="prefetch" href="/my-blog/assets/js/189.0972390f.js"><link rel="prefetch" href="/my-blog/assets/js/19.ec4eb9de.js"><link rel="prefetch" href="/my-blog/assets/js/190.ca92c76c.js"><link rel="prefetch" href="/my-blog/assets/js/191.1f7905ed.js"><link rel="prefetch" href="/my-blog/assets/js/192.b692c548.js"><link rel="prefetch" href="/my-blog/assets/js/193.e6770e7f.js"><link rel="prefetch" href="/my-blog/assets/js/194.0414cd71.js"><link rel="prefetch" href="/my-blog/assets/js/195.332324a7.js"><link rel="prefetch" href="/my-blog/assets/js/196.253cd62c.js"><link rel="prefetch" href="/my-blog/assets/js/197.50d8d323.js"><link rel="prefetch" href="/my-blog/assets/js/198.da2be3bf.js"><link rel="prefetch" href="/my-blog/assets/js/199.37e49aeb.js"><link rel="prefetch" href="/my-blog/assets/js/2.bb3c2c47.js"><link rel="prefetch" href="/my-blog/assets/js/20.92a01666.js"><link rel="prefetch" href="/my-blog/assets/js/21.c74d5dde.js"><link rel="prefetch" href="/my-blog/assets/js/22.ce0433c3.js"><link rel="prefetch" href="/my-blog/assets/js/23.69439d49.js"><link rel="prefetch" href="/my-blog/assets/js/24.b057c9e5.js"><link rel="prefetch" href="/my-blog/assets/js/25.918e8d83.js"><link rel="prefetch" href="/my-blog/assets/js/26.fe13e2d3.js"><link rel="prefetch" href="/my-blog/assets/js/27.c3ca8fe3.js"><link rel="prefetch" href="/my-blog/assets/js/28.30a417d8.js"><link rel="prefetch" href="/my-blog/assets/js/29.e375d353.js"><link rel="prefetch" href="/my-blog/assets/js/30.3069ab70.js"><link rel="prefetch" href="/my-blog/assets/js/31.647b7c22.js"><link rel="prefetch" href="/my-blog/assets/js/32.47c12ff3.js"><link rel="prefetch" href="/my-blog/assets/js/33.5700311a.js"><link rel="prefetch" href="/my-blog/assets/js/34.39f86e33.js"><link rel="prefetch" href="/my-blog/assets/js/35.0317ca56.js"><link rel="prefetch" href="/my-blog/assets/js/36.1a72a783.js"><link rel="prefetch" href="/my-blog/assets/js/37.61be6ef9.js"><link rel="prefetch" href="/my-blog/assets/js/38.28aa3cd1.js"><link rel="prefetch" href="/my-blog/assets/js/39.837f3e91.js"><link rel="prefetch" href="/my-blog/assets/js/4.59ea745b.js"><link rel="prefetch" href="/my-blog/assets/js/40.88a919e6.js"><link rel="prefetch" href="/my-blog/assets/js/41.b1570f0f.js"><link rel="prefetch" href="/my-blog/assets/js/42.e8269fb8.js"><link rel="prefetch" href="/my-blog/assets/js/43.ff9eda71.js"><link rel="prefetch" href="/my-blog/assets/js/44.6a5a602c.js"><link rel="prefetch" href="/my-blog/assets/js/45.124f7425.js"><link rel="prefetch" href="/my-blog/assets/js/46.f669140b.js"><link rel="prefetch" href="/my-blog/assets/js/47.5c357118.js"><link rel="prefetch" href="/my-blog/assets/js/48.df63cc62.js"><link rel="prefetch" href="/my-blog/assets/js/49.3b5e6045.js"><link rel="prefetch" href="/my-blog/assets/js/5.cdd16ccc.js"><link rel="prefetch" href="/my-blog/assets/js/50.df0e3b91.js"><link rel="prefetch" href="/my-blog/assets/js/51.d17a87da.js"><link rel="prefetch" href="/my-blog/assets/js/52.fcfc302a.js"><link rel="prefetch" href="/my-blog/assets/js/53.11482175.js"><link rel="prefetch" href="/my-blog/assets/js/54.5fd39631.js"><link rel="prefetch" href="/my-blog/assets/js/55.e0690114.js"><link rel="prefetch" href="/my-blog/assets/js/56.b1964af5.js"><link rel="prefetch" href="/my-blog/assets/js/57.5a38f88d.js"><link rel="prefetch" href="/my-blog/assets/js/58.78487853.js"><link rel="prefetch" href="/my-blog/assets/js/59.151fea2b.js"><link rel="prefetch" href="/my-blog/assets/js/6.bf2d89db.js"><link rel="prefetch" href="/my-blog/assets/js/60.a66ebf27.js"><link rel="prefetch" href="/my-blog/assets/js/61.eb9c600c.js"><link rel="prefetch" href="/my-blog/assets/js/62.1f4682ee.js"><link rel="prefetch" href="/my-blog/assets/js/63.56a7cb25.js"><link rel="prefetch" href="/my-blog/assets/js/64.7a9118a1.js"><link rel="prefetch" href="/my-blog/assets/js/65.7397589a.js"><link rel="prefetch" href="/my-blog/assets/js/66.3602c887.js"><link rel="prefetch" href="/my-blog/assets/js/67.c1546cc4.js"><link rel="prefetch" href="/my-blog/assets/js/68.546a30d9.js"><link rel="prefetch" href="/my-blog/assets/js/69.3c05685d.js"><link rel="prefetch" href="/my-blog/assets/js/7.990a607f.js"><link rel="prefetch" href="/my-blog/assets/js/70.a23795f4.js"><link rel="prefetch" href="/my-blog/assets/js/71.882980c3.js"><link rel="prefetch" href="/my-blog/assets/js/72.8d86cadc.js"><link rel="prefetch" href="/my-blog/assets/js/73.58b6dcf7.js"><link rel="prefetch" href="/my-blog/assets/js/74.36ea8b04.js"><link rel="prefetch" href="/my-blog/assets/js/75.ac8259cc.js"><link rel="prefetch" href="/my-blog/assets/js/76.86a4a403.js"><link rel="prefetch" href="/my-blog/assets/js/77.4b2028c4.js"><link rel="prefetch" href="/my-blog/assets/js/78.4c17fbe2.js"><link rel="prefetch" href="/my-blog/assets/js/79.980b1a2f.js"><link rel="prefetch" href="/my-blog/assets/js/8.5077a692.js"><link rel="prefetch" href="/my-blog/assets/js/80.7b306732.js"><link rel="prefetch" href="/my-blog/assets/js/81.678bb7a5.js"><link rel="prefetch" href="/my-blog/assets/js/82.1aaffd78.js"><link rel="prefetch" href="/my-blog/assets/js/83.5d3ab81c.js"><link rel="prefetch" href="/my-blog/assets/js/84.f73b6af9.js"><link rel="prefetch" href="/my-blog/assets/js/86.7b500b5b.js"><link rel="prefetch" href="/my-blog/assets/js/87.4cc14da6.js"><link rel="prefetch" href="/my-blog/assets/js/88.4dcb650c.js"><link rel="prefetch" href="/my-blog/assets/js/89.a7fc0ea0.js"><link rel="prefetch" href="/my-blog/assets/js/9.2b63b480.js"><link rel="prefetch" href="/my-blog/assets/js/90.937b01ba.js"><link rel="prefetch" href="/my-blog/assets/js/91.d778883e.js"><link rel="prefetch" href="/my-blog/assets/js/92.d88ef0fc.js"><link rel="prefetch" href="/my-blog/assets/js/93.f78b39e0.js"><link rel="prefetch" href="/my-blog/assets/js/94.20e19783.js"><link rel="prefetch" href="/my-blog/assets/js/95.7192b73a.js"><link rel="prefetch" href="/my-blog/assets/js/96.34de2515.js"><link rel="prefetch" href="/my-blog/assets/js/97.7644618c.js"><link rel="prefetch" href="/my-blog/assets/js/98.f4af2778.js"><link rel="prefetch" href="/my-blog/assets/js/99.2659a2a1.js">
    <link rel="stylesheet" href="/my-blog/assets/css/0.styles.ecc0b0a4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/my-blog/" class="home-link router-link-active"><img src="/my-blog/img/logo.png" alt="程序猿小萨" class="logo"> <span class="site-name can-hide">程序猿小萨</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/my-blog/article/introduction/About.html" class="nav-link">
  关于文档
</a></div><div class="nav-item"><a href="/my-blog/article/introduction/Flag.html" class="nav-link">
  Plan
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术栈" class="dropdown-title"><span class="title">技术栈</span> <span class="arrow down"></span></button> <button type="button" aria-label="技术栈" class="mobile-dropdown-title"><span class="title">技术栈</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/my-blog/article/01-HTML/HTML.html" class="nav-link">
  HTML
</a></li><li class="dropdown-subitem"><a href="/my-blog/article/02-CSS/notes/day01.html" class="nav-link">
  CSS
</a></li><li class="dropdown-subitem"><a href="/my-blog/article/03-H5C3/HTML5&amp;CSS3.html" class="nav-link">
  H5C3
</a></li><li class="dropdown-subitem"><a href="/my-blog/article/04-Project/notes/day01-pingyougou.html" class="nav-link">
  实战
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/my-blog/article/05-mobile/H5C3/HTML5CSS3_day01.html" class="nav-link">
  移动Web
</a></li><li class="dropdown-item"><h4>
          JavaScript
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/my-blog/article/06-JavaScript/01jichu/day01/day01.html" class="nav-link">
  基础
</a></li><li class="dropdown-subitem"><a href="/my-blog/article/06-JavaScript/02-WebAPI/day01/day01_WebAPIs.html" class="nav-link">
  WebAPI
</a></li><li class="dropdown-subitem"><a href="/my-blog/article/06-JavaScript/03-JQuery/day01/day01_jQuery.html" class="nav-link">
  jQuery
</a></li><li class="dropdown-subitem"><a href="/my-blog/article/06-JavaScript/04-Echarts/数据可视化.html" class="nav-link">
  Echarts
</a></li><li class="dropdown-subitem"><a href="/my-blog/article/06-JavaScript/05-gaoji/day01/JavaScript高级第01天笔记.html" class="nav-link">
  高级
</a></li></ul></li><li class="dropdown-item"><h4>
          框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/my-blog/article/08-小程序/standard.html" class="nav-link">
  小程序
</a></li><li class="dropdown-subitem"><a href="/my-blog/article/07-Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-subitem"><a href="/my-blog/article/09-React/" class="nav-link router-link-active">
  React
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          随笔
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/my-blog/article/soft/Document.html" class="nav-link">
  博客
</a></li><li class="dropdown-subitem"><a href="/my-blog/article/soft/bookmark.html" class="nav-link">
  书签
</a></li><li class="dropdown-subitem"><a href="/my-blog/article/soft/Notion.html" class="nav-link">
  Notion
</a></li><li class="dropdown-subitem"><a href="/my-blog/article/soft/research.html" class="nav-link">
  待研究
</a></li></ul></li><li class="dropdown-item"><h4>
          在线编辑
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://tinypng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片压缩
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          充电站
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.imooc.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  慕课网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.51zxw.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  我要自学网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          博客
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://space.bilibili.com/1562860055/favlist?fid=1592147955&amp;ftype=create" target="_blank" rel="noopener noreferrer" class="nav-link external">
  B站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://juejin.im/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://blog.csdn.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.effie.co/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  effie
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><a href="/my-blog/article/mianshi/Detail.html" class="nav-link">
  面试
</a></div> <a href="https://gitee.com/qarabala/my-blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/my-blog/article/introduction/About.html" class="nav-link">
  关于文档
</a></div><div class="nav-item"><a href="/my-blog/article/introduction/Flag.html" class="nav-link">
  Plan
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术栈" class="dropdown-title"><span class="title">技术栈</span> <span class="arrow down"></span></button> <button type="button" aria-label="技术栈" class="mobile-dropdown-title"><span class="title">技术栈</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/my-blog/article/01-HTML/HTML.html" class="nav-link">
  HTML
</a></li><li class="dropdown-subitem"><a href="/my-blog/article/02-CSS/notes/day01.html" class="nav-link">
  CSS
</a></li><li class="dropdown-subitem"><a href="/my-blog/article/03-H5C3/HTML5&amp;CSS3.html" class="nav-link">
  H5C3
</a></li><li class="dropdown-subitem"><a href="/my-blog/article/04-Project/notes/day01-pingyougou.html" class="nav-link">
  实战
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/my-blog/article/05-mobile/H5C3/HTML5CSS3_day01.html" class="nav-link">
  移动Web
</a></li><li class="dropdown-item"><h4>
          JavaScript
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/my-blog/article/06-JavaScript/01jichu/day01/day01.html" class="nav-link">
  基础
</a></li><li class="dropdown-subitem"><a href="/my-blog/article/06-JavaScript/02-WebAPI/day01/day01_WebAPIs.html" class="nav-link">
  WebAPI
</a></li><li class="dropdown-subitem"><a href="/my-blog/article/06-JavaScript/03-JQuery/day01/day01_jQuery.html" class="nav-link">
  jQuery
</a></li><li class="dropdown-subitem"><a href="/my-blog/article/06-JavaScript/04-Echarts/数据可视化.html" class="nav-link">
  Echarts
</a></li><li class="dropdown-subitem"><a href="/my-blog/article/06-JavaScript/05-gaoji/day01/JavaScript高级第01天笔记.html" class="nav-link">
  高级
</a></li></ul></li><li class="dropdown-item"><h4>
          框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/my-blog/article/08-小程序/standard.html" class="nav-link">
  小程序
</a></li><li class="dropdown-subitem"><a href="/my-blog/article/07-Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-subitem"><a href="/my-blog/article/09-React/" class="nav-link router-link-active">
  React
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          随笔
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/my-blog/article/soft/Document.html" class="nav-link">
  博客
</a></li><li class="dropdown-subitem"><a href="/my-blog/article/soft/bookmark.html" class="nav-link">
  书签
</a></li><li class="dropdown-subitem"><a href="/my-blog/article/soft/Notion.html" class="nav-link">
  Notion
</a></li><li class="dropdown-subitem"><a href="/my-blog/article/soft/research.html" class="nav-link">
  待研究
</a></li></ul></li><li class="dropdown-item"><h4>
          在线编辑
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://tinypng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片压缩
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          充电站
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.imooc.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  慕课网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.51zxw.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  我要自学网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          博客
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://space.bilibili.com/1562860055/favlist?fid=1592147955&amp;ftype=create" target="_blank" rel="noopener noreferrer" class="nav-link external">
  B站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://juejin.im/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://blog.csdn.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.effie.co/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  effie
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><a href="/my-blog/article/mianshi/Detail.html" class="nav-link">
  面试
</a></div> <a href="https://gitee.com/qarabala/my-blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/my-blog/article/09-React/01-基础/day01.html" class="sidebar-link">day01-React 概述&amp;脚手架搭建&amp;JSX&amp;组件</a></li><li><a href="/my-blog/article/09-React/01-基础/day02.html" class="sidebar-link">day02-受控组件&amp;评论案例&amp;props&amp;context</a></li><li><a href="/my-blog/article/09-React/01-基础/day03.html" class="sidebar-link">day03-生命周期&amp;render props模式&amp;高阶组件&amp;原理揭秘</a></li><li><a href="/my-blog/article/09-React/01-基础/day04.html" class="sidebar-link">day04-React原理揭秘&amp;React路由基础</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>好租客</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/my-blog/article/09-React/02-好租客/react好租客项目Day01-项目演示&amp;项目搭建&amp;antd-mobile的TabBar使用.html" class="sidebar-link">好客租房移动Web - 上</a></li><li><a href="/my-blog/article/09-React/02-好租客/react好租客项目Day02.html" class="sidebar-link">首页模块</a></li><li><a href="/my-blog/article/09-React/02-好租客/react好租客项目Day03-城市选择功能&amp;react-virtualized组件使用.html" class="sidebar-link">城市选择模块</a></li><li><a href="/my-blog/article/09-React/02-好租客/react好租客项目Day04-城市列表索引列相关功能&amp;封装NavHeader&amp;CSS IN JS.html" class="sidebar-link">渲染城市列表</a></li><li><a href="/my-blog/article/09-React/02-好租客/react好租客项目Day05-根据定位展示对应城市&amp;地图找房模块封装&amp;loading美化.html" class="sidebar-link">地图找房模块</a></li><li><a href="/my-blog/article/09-React/02-好租客/react好租客项目Day06.html" class="active sidebar-link">axios优化&amp;环境变量</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/my-blog/article/09-React/02-好租客/react好租客项目Day06.html#目标" class="sidebar-link">目标</a></li><li class="sidebar-sub-header"><a href="/my-blog/article/09-React/02-好租客/react好租客项目Day06.html#配置统一的url-★★" class="sidebar-link">配置统一的URL（★★）</a></li><li class="sidebar-sub-header"><a href="/my-blog/article/09-React/02-好租客/react好租客项目Day06.html#配置生产环境和开发环境-★★★" class="sidebar-link">配置生产环境和开发环境（★★★）</a></li><li class="sidebar-sub-header"><a href="/my-blog/article/09-React/02-好租客/react好租客项目Day06.html#使用环境变量-★★★" class="sidebar-link">使用环境变量（★★★）</a></li><li class="sidebar-sub-header"><a href="/my-blog/article/09-React/02-好租客/react好租客项目Day06.html#axios-优化-★★★" class="sidebar-link">axios 优化（★★★）</a></li><li class="sidebar-sub-header"><a href="/my-blog/article/09-React/02-好租客/react好租客项目Day06.html#目标-2" class="sidebar-link">目标</a></li><li class="sidebar-sub-header"><a href="/my-blog/article/09-React/02-好租客/react好租客项目Day06.html#功能分析" class="sidebar-link">功能分析</a></li><li class="sidebar-sub-header"><a href="/my-blog/article/09-React/02-好租客/react好租客项目Day06.html#顶部搜索导航栏" class="sidebar-link">顶部搜索导航栏</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/my-blog/article/09-React/02-好租客/react好租客项目Day06.html#封装搜索导航栏组件-★★★" class="sidebar-link">封装搜索导航栏组件（★★★）</a></li><li class="sidebar-sub-header"><a href="/my-blog/article/09-React/02-好租客/react好租客项目Day06.html#把搜索导航栏引入到houselist中-调整相应样式" class="sidebar-link">把搜索导航栏引入到HouseList中,调整相应样式</a></li></ul></li><li class="sidebar-sub-header"><a href="/my-blog/article/09-React/02-好租客/react好租客项目Day06.html#条件筛选" class="sidebar-link">条件筛选</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/my-blog/article/09-React/02-好租客/react好租客项目Day06.html#结构分析" class="sidebar-link">结构分析</a></li><li class="sidebar-sub-header"><a href="/my-blog/article/09-React/02-好租客/react好租客项目Day06.html#功能分析-2" class="sidebar-link">功能分析</a></li><li class="sidebar-sub-header"><a href="/my-blog/article/09-React/02-好租客/react好租客项目Day06.html#filtertitle组件实现-★★★" class="sidebar-link">FilterTitle组件实现（★★★）</a></li><li class="sidebar-sub-header"><a href="/my-blog/article/09-React/02-好租客/react好租客项目Day06.html#filterpicker-组件-★★★" class="sidebar-link">FilterPicker 组件（★★★）</a></li></ul></li></ul></li><li><a href="/my-blog/article/09-React/02-好租客/react好租客项目Day07-条件筛选功能实现&amp;FilterTitle组件功能实现&amp;房屋列表数据获取.html" class="sidebar-link">列表找房模块-条件筛选</a></li><li><a href="/my-blog/article/09-React/02-好租客/react好租客项目Day08-房屋列表滚动&amp;加载更多&amp;吸顶功能&amp;bug定位&amp;react-spring.html" class="sidebar-link">列表找房模块-房屋列表</a></li><li><a href="/my-blog/article/09-React/02-好租客/react好租客项目Day09-房屋详情&amp;路由配置&amp;登录功能&amp;formik表单校验.html" class="sidebar-link">房屋详情模块-准备工作</a></li><li><a href="/my-blog/article/09-React/02-好租客/react好租客项目Day10-检测是否登&amp;退出&amp;axios拦截器&amp;鉴权路由&amp;收藏模块.html" class="sidebar-link">我的页面</a></li><li><a href="/my-blog/article/09-React/02-好租客/react好租客项目Day11-发布房源模块.html" class="sidebar-link">房源发布模块</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>01-react基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/my-blog/article/09-React/03-heima-react-doc/01-react基础/01-React入门.html" class="sidebar-link">React 课程安排</a></li><li><a href="/my-blog/article/09-React/03-heima-react-doc/01-react基础/02-组件基础.html" class="sidebar-link">React 组件</a></li><li><a href="/my-blog/article/09-React/03-heima-react-doc/01-react基础/03- 组件通讯-概念.html" class="sidebar-link">组件通信</a></li><li><a href="/my-blog/article/09-React/03-heima-react-doc/01-react基础/04-组件生命周期.html" class="sidebar-link">生命周期</a></li><li><a href="/my-blog/article/09-React/03-heima-react-doc/01-react基础/05-react原理揭秘.html" class="sidebar-link">setState</a></li><li><a href="/my-blog/article/09-React/03-heima-react-doc/01-react基础/06-react路由.html" class="sidebar-link">路由</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>02-react-极客园pc</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/my-blog/article/09-React/03-heima-react-doc/02-react-极客园pc/01-项目搭建.html" class="sidebar-link">项目介绍</a></li><li><a href="/my-blog/article/09-React/03-heima-react-doc/02-react-极客园pc/02-登录功能.html" class="sidebar-link">项目功能 - 登录</a></li><li><a href="/my-blog/article/09-React/03-heima-react-doc/02-react-极客园pc/03-首页.html" class="sidebar-link">react样式冲突</a></li><li><a href="/my-blog/article/09-React/03-heima-react-doc/02-react-极客园pc/04-文章列表.html" class="sidebar-link">文章列表功能</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>03-react-hooks</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/my-blog/article/09-React/03-heima-react-doc/03-react-hooks/01-hooks基本使用.html" class="sidebar-link">React Hooks</a></li><li><a href="/my-blog/article/09-React/03-heima-react-doc/03-react-hooks/02-hooks进阶.html" class="sidebar-link">hooks 进阶</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>04-react-redux</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/my-blog/article/09-React/03-heima-react-doc/04-react-redux/redux-基础.html" class="sidebar-link">Redux基础</a></li><li><a href="/my-blog/article/09-React/03-heima-react-doc/04-react-redux/redux-进阶（中间件）.html" class="sidebar-link">Redux 中间件</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>05-typescript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/my-blog/article/09-React/03-heima-react-doc/05-typescript/typescript笔记/01-TypeScript 介绍.html" class="sidebar-link">TypeScript介绍</a></li><li><a href="/my-blog/article/09-React/03-heima-react-doc/05-typescript/typescript笔记/02-TypeScript 常用类型.html" class="sidebar-link">TypeScript 常用类型</a></li><li><a href="/my-blog/article/09-React/03-heima-react-doc/05-typescript/typescript笔记/03-TypeScript 高级类型.html" class="sidebar-link">TypeScript 高级类型</a></li><li><a href="/my-blog/article/09-React/03-heima-react-doc/05-typescript/typescript笔记/04-TS项目初始化与类型声明文件.html" class="sidebar-link">在 React 项目中使用 TS</a></li><li><a href="/my-blog/article/09-React/03-heima-react-doc/05-typescript/typescript笔记/05-React与Typescript.html" class="sidebar-link">React与Typescript</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>06-react-极客园</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/my-blog/article/09-React/03-heima-react-doc/06-react-极客园/01-项目准备.html" class="sidebar-link">项目准备</a></li><li><a href="/my-blog/article/09-React/03-heima-react-doc/06-react-极客园/02-登录模块.html" class="sidebar-link">极客园H5项目【登录模块】</a></li><li><a href="/my-blog/article/09-React/03-heima-react-doc/06-react-极客园/03-布局页面.html" class="sidebar-link">布局页面</a></li><li><a href="/my-blog/article/09-React/03-heima-react-doc/06-react-极客园/04-个人中心.html" class="sidebar-link">个人中心</a></li><li><a href="/my-blog/article/09-React/03-heima-react-doc/06-react-极客园/05-小智同学.html" class="sidebar-link">小智同学</a></li><li><a href="/my-blog/article/09-React/03-heima-react-doc/06-react-极客园/06-首页.html" class="sidebar-link">首页模块</a></li><li><a href="/my-blog/article/09-React/03-heima-react-doc/06-react-极客园/07-搜索功能.html" class="sidebar-link">文章搜索</a></li><li><a href="/my-blog/article/09-React/03-heima-react-doc/06-react-极客园/08-文章详情.html" class="sidebar-link">文章详情</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>07-react原理揭秘</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/my-blog/article/09-React/03-heima-react-doc/07-react原理揭秘/01-react-组件复用.html" class="sidebar-link">任务</a></li><li><a href="/my-blog/article/09-React/03-heima-react-doc/07-react原理揭秘/02-setState.html" class="sidebar-link">setState</a></li><li><a href="/my-blog/article/09-React/03-heima-react-doc/07-react原理揭秘/03-hooks进阶.html" class="sidebar-link">Hooks 进阶</a></li><li><a href="/my-blog/article/09-React/03-heima-react-doc/07-react原理揭秘/04-就业加强.html" class="sidebar-link">React 核心原理</a></li><li><a href="/my-blog/article/09-React/03-heima-react-doc/07-react原理揭秘/05-就业加强.html" class="sidebar-link">01 - connect</a></li><li><a href="/my-blog/article/09-React/03-heima-react-doc/07-react原理揭秘/项目.html" class="sidebar-link">项目</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>黑马React资料-2022</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/my-blog/article/09-React/04-react-basic-2022/01-React 基础.html" class="sidebar-link">01-React 基础</a></li><li><a href="/my-blog/article/09-React/04-react-basic-2022/02-组件基础.html" class="sidebar-link">02-组件基础</a></li><li><a href="/my-blog/article/09-React/04-react-basic-2022/03-组件通讯.html" class="sidebar-link">03-组件通讯</a></li><li><a href="/my-blog/article/09-React/04-react-basic-2022/04-组件生命周期.html" class="sidebar-link">组件的生命周期</a></li><li><a href="/my-blog/article/09-React/04-react-basic-2022/05-react原理揭秘.html" class="sidebar-link">05-react原理揭秘</a></li><li><a href="/my-blog/article/09-React/04-react-basic-2022/06-react路由.html" class="sidebar-link">06-react路由</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="axios优化-环境变量"><a href="#axios优化-环境变量" class="header-anchor">#</a> axios优化&amp;环境变量</h1> <h2 id="目标"><a href="#目标" class="header-anchor">#</a> 目标</h2> <ul><li>能够通过 axios.create() 方法来构建axios实例对象，并且配置baseURL</li> <li>能够知道 .env.development 和 .env.production 两个文件的作用</li> <li>能够配置开发环境变量</li> <li>能够在代码中引入配置的环境变量的值</li></ul> <p>每一次我们请求接口的时候，每一次都需要写相同的baseUrl。例如：http://localhost:8080，这样太繁琐，所以我们可以对网络请求进行优化，接口域名、图片域名、分为开发环境和生产环境，直接写在代码中，项目发布时，很难替换</p> <h2 id="配置统一的url-★★"><a href="#配置统一的url-★★" class="header-anchor">#</a> 配置统一的URL（★★）</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code>axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>baseURL <span class="token operator">=</span> <span class="token string">'http://localhost:8080'</span>
<span class="token comment">// 或者</span>
<span class="token keyword">const</span> instance <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">baseURL</span><span class="token operator">:</span> <span class="token string">'http://localhost:8080'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="配置生产环境和开发环境-★★★"><a href="#配置生产环境和开发环境-★★★" class="header-anchor">#</a> 配置生产环境和开发环境（★★★）</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>// 通过脚手架的环境变量来解决 开发环境
在开发环境变量文件 .env.development 中，配置 REACT_APP_URL= http://localhost:8080

// 通过脚手架的环境变量解决， 生成环境
在生产环境变量文件 .env.production 中，配置 REACT_APP_URL=线上接口地址
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="使用环境变量-★★★"><a href="#使用环境变量-★★★" class="header-anchor">#</a> 使用环境变量（★★★）</h2> <p>在react官网中，有详细说明环境变量的配置</p> <p><img src="/my-blog/assets/img/环境变量.42b877ad.png" alt=""></p> <p>在里面会发现对应的文件还有个 .local 后缀的文件，这个文件的优先级更高，以下就是你输入不同命令，执行文件的优先级</p> <p><img src="/my-blog/assets/img/环境变量优先级.927c267b.png" alt=""></p> <ul><li>在项目根目录中创建文件 .env.development</li></ul> <p><img src="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAMUAAAD8CAYAAADHTWCVAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAB/RSURBVHhe7Z3pk1zVecb1J8SpxEtsgwGj0b6N1pFmpNFotIxGGyNAC1rQgoR2adgksEEgEJIYxAASEosHBEYySAIDBpFYBAMxYJRUUaTMl7iScuWDq5JyylX5lkpO+rny23r7nff2fme6e54Pv+o+57znPefe8zx9z+2ZuTNo8uTJgRByBZqCEANNQYiBpiDEMOj66wcHQsgVaApCDDQFIQaaghADTUGIgaYgxEBTEGKgKQgxDDhT7N+/P3z00Ueho2Op217p7NixI5o/Xr12j+bmmeHChQvh5MmTbjvJpKym2LlzV2homOq2VQo0hR9DrlBWUxw8eDB8+eWXFW0MmsKPIVcouyn+8Ic/VLQxaAo/hlyh7Kb44IMPwrvvvlu0Mc6ePRuBBbx06VKEJ2KUUS8xn376qSsU5NJ5uru7e+VDP/SXOPTROeIQgSKn9JfcMJ8e185fhCoxAH10DNDnAWPI/OVY0Qd5kE/6yLmRfHGm0OfGnj87v7jzW4uU3RQ4kcOHjyjaGLJQsoCyOFqoImK9yCJCLSz00YKRflqkqNMi88aLQ/LJGFpItk7nE9HmOia813OVflqgxZoCY+vxEavz2naYUdpqnURN8dVXX4XGxiY3Ng4shF1kLJgWh10wQddjAdHHLqSXS4vFi4nDG8OKS+p0Poxnj9HWW2ELdky021y2rzUF+l68eDHj+HSMjR9oJLZ9KsYQwBO8FpUsmBWLxIlAPLFIjM0lWwSNxOi+FitQoPPH1XlGBFqsnnAlRo/pHSf6IAZtKMtxypio944Z2Bh7LAOBRG60izUE6A9TeLnywQoU6PxxdZVgCu/ceKDPQDNH2U1RiiFALlPExdh69LHbGIBFzidXPliBAjtXrw5z8ESp65ET80dfHWOPyxvP9rWm8OadDeRGvJ1LrVJWU+zevackQwBPpHbhZdFlkSVGi0WEoMUn/XQu9MMnoV5wxOHGUspxIM6Ky87VqxOR6eOUuel5oN3rp49T6uRcyHHrY7Km8M4N6OnpifKhrqfnxXSbjKHnVsuU1RTlIB9TABERFj/u8i6LLzF4f+jQ4V6xyC8xcbk8ijUFwHvUyZha6BqcCz0vyWXH1HkkBq9ol/OgP0TsuQGesQTJNRCoOFMQ0t/QFFmwVyON/tQltQVNQYiBpiDEQFMQYqApCDHQFIQYaApCDDQFIQaaghADTUGIgaYgxEBTEGKgKQgx0BSEGGrWFK3TJ4Uvzj0QznRvd9uFrn1rwtfvHQzLF1/+gxqUf/fLw+HuzR29Ykn1MHXSuNA8bUKoq6tz27NRVlNU0mMzaYqBx7ChQ8PGFfPC7vWLMtiVYvy4UW4fj7KaAn+jXSlPByzWFKR62bSyrZchNMOHD3X7Wcpuikp5bCZNMbBoahjvGkFz04Jmt6+l7KYo9bGZH5zaGwGx/v7Drgi7nUEbBA/hSx1EDXGjDWVtCiC5rAGsKTyTSO64+ZD+Z1VHq2sEi9fXUnZT4A/eS3lsJgwB4eFV6iBqLcRCTIFc+mqBvNlMYMsYE2PrHD2HbqcpKoxcWyfB62tJ1BTFPAMKorWC15/6KBdiCm0uLy6XKdDf5iCVx4olLa4JLF5fS2Lbp2IfihYnQl1fiCn0J7xXn80UEis5SeUysX60awLNojmNbl9LIjfapTwlkKYgxXLzwmbXDGDL6vluH4+ym6LUx2Z6prCCt0IGsveXmDhTIA599f1JnClQ9uZDKpfFcxt7GWL10tYweHD+P8QrqynK8dhMCDDXzbGYRGLEAOhnTeHVAbxHXS5T8EZ74FFWU5QD+WQWcwAtUgHilXa5QiDOGuDNZ/akzQG0ISRPNlMAMUZcDlJbVKwpvDZC+gKaghADTUGIgaYgxFBxpiCkv6EpCDHQFIQYaApCDDQFIQaaghADTUGIgaYgxEBTEGKgKQgx0BSEGGgKQgw0BalJ+CxZQlLwWbKEGPgsWUIUNf0s2WwPCZA/QAJo857mIcgDDMjAoGafJYsnaNgncuBpHNoUVvDSR/+1HtppioFFzT5LFlcJCDzumUoQvn28DK4WfOQMqflnyeJqoD/5dZutR1k/qIwMTGr6WbJA3yNoE9AUJBs1+yxZDe4L9NP6PFNw+0Q0NfcsWdxL4DmtUs7HFLzRJuWmlynuvfaqcO6ab4fT13wnPHnNd/uUv2sZG/64fUH4086FEf+xZX44O2louv1f186K0H0AYhAb148Qj9dSGj927XfDCOOBtCnqU/zX1X8ZwlV/QcgA4Bvp9/+Xer/nuqszTQGn/OdVNAQZ2Nx57WVjDIIh/hR7hbjiJkJqC0/b3wgLrr8uDDp87fd7Nf4p1fjV1X8dTl7zN+5ejJBq5+WUtv/t6r8K/2vM8d4PvhUGvfODb2dU/jG1jbI3HoTUKp+nPvy1/lEehDtwXXnpB990OxNSi7yYumLorRQuEoOOpS4lVyq/EVD2OhNSi2ArJYYAKA96btjgjEqUJ01qJGRA4OmfpiADGpqCEANNQYiBpiDEQFMQYqApCDEkYor57UvCka6jofupY1l5+JFDoaVlrpuDkP4iEVOsW78pfPFP/xj++evfZuVXn3wcltxws5ujGth4+scRXlsSNM6eHba8fSCsenqP2058ZrTPC2ufvzssP7K9V9vSH20M617aF+as6kjXJWKKgQJNUR1UhCmaps8Ka9ZuiK4Ymmq+KnjQFOUjyWOrCFPEbZ9eefW0G1+t0BTlo+ZNkTQtHQvCzg+OhM7PuyNwMnFSpV3EihMsMYhHP7R33Lcxoywg3uYS7JgyhjWFHhNgLNS3b1kRdv79kehVx9u5oH33J49njCOxccKxY9o5yRjzb0/NQR2DzaOPScfIuHH9gJ2DHDeQY5d52Dz2mHVbOah5U4g49UnHImoxy6LKiZVFRX1cDq/OtumFEhFITqnT85DFRk5P0LZOxINX3S5jeDnQhrmJqSQG4D3qMD7mquNkbjYX4uQcSD9bh34yR5DtuHVZj2/zeMdWLip6+2Qp5tsnnDQtRIATq8WEdr1IAIugFwUxOo9t19hFF3QO9Nv2/qPpOXgxnnjsvK0o9LyscGx/wdZbAQp2PnquQMbz6mQO+Rw32rRJgM1jy+Wkom+0LbesujVMaZju5ogDJ1o+vTR60fWCCFb0iMViShnxcQsS16bHkYX35iYxVkDIKW0iCq9/nClwTCijHmVB4kSE9tgFW6+PB3hCtXX5HDdirHltHm+sctE0d05Ye/KusPpYZ5jWMiujbfnh7eHWn9wTZt7Qnq5LxBRJghOd68TZxQVWAFo4VqyWuDH1OOirTRaH5NLjo96WPaxwEIsy6r04yYXXJE2R67j72xRTps4IK4/uDOtTV4R5625K189c0h5ufe7usPr4HWFaa2u6PhFT4CqQbfvUdbTb7ZcPOGk4eTiJXjuwiws8YSAX4uLEJSDGtssiyjjIi/wixDhkrMWda3uJyZu3xgrHE5tX7x07sOPZsh3Pq8vnuL152jzeWOVk/m3LwvqX7w3rT90bVj6+M7pCYEuFugXbb8mITcQUuX7NY+PG291+HnLStRBwudYnDzFrn70rXbaLCzxh4D0WAuhFzWdMvNdbBID3dowVj+3oJYbN5/dH6HwAc0BOPRf0RQ6894Rjx5QYPS/Ji3q06zo9Fvroft54+cwB6OPGay5TADt+WZncGNo2Lgtrnr0zbHjl3oi1z9112RCpNh2biCnKiRUowMnV+1i81yfcO7lYfLtwwFvQfMZEmzcOyhIDbDtAXztnQcQq6Ll5QgJ2TNsuxw6h6jhtCGCPJ19TgGzHjePMxxT6HNv8fUnFm4KUTtwHAvGhKQYANEVh0BQDAJqiMGiKAQBNURg0BSEGmoIQA01BiIGmIMTgmuLY9VdnVKI8bOQoQgYEnv5pCjKgoSkIMbimeP76qzIqe1JlrzMhtciJyBRX/j/Lqz/8fhj05g8z/2nF19d80+1MSC3y4bWZ/8nrk2u/HQadv+57GZX/k3ILGnAFwaWEkFoEV4iLKUP8t/lX2Z/CFG3Dh6UK/r9P7V1HSG1zz5DrwiBcQl409xWEDET+IXWVgB8iU4BXaAwygPnVdd8JY//shbQpwKahg8NvrvlWBPZb3l5M88zQ60LPxPoIvD9ed014oX50eHHyhOgVZa9fufntxjXhX7ZuCKfqR7jt4MLc5vDvndvCr5a0ue1kYHH2h99La/3RwdemPQAyTFEIo8ZPDE2LbgrNHSsjxjfNjOrHTW1KlVdEdVPnLgwjxozr1TdpHjrwcPjo44/DTcuXu+2EZKMoU8AQjQuWpg0BGts7ovqR9RMig/SnMWgKUgoFm2LE2HFhWvsNGYaITJEyyZjJU8PUtsVh5LjxYfjoMZEh0NYwZ0FU9vLlAsKGwC9duhRx7tz5NBKjy3iVWCDm2L2nM3qP12JyP/vc871ySoyX67PPPssYq3XuvHDh/ffDS6dORa+IgXm9vmhHvPQlfUvBpoDgmxbeGGuK6YtvDuMaGiMTwAylmELEAkFKnYjTE66UvSuFNUUhuVEncSJuHYOcMIHOhTmgnwhf+lmzyDwkDiA3jdF/FLV9Gj1hUpiu7iesKXR9KdsniMwTB0RjhavL+ZiikNw2zua3fQRdL6awcZiHrbNzJX1L0Tfa1hgTps+K6ifOnF0WQwCIRX/66notJFvOxxTF5gY6v4hdf9LrODGUxNkxkRtXFIu9opC+o2hTAG2MybPmpe436sOU2e1lMQSAYAaCKbx5kP6jJFMAbytVrm+cIBgRldSJuLIJN19TFJMb2PxejK2PMwXKdh6kfynZFGDMxClpY5RiCIgMYhPhQMD2Bhbvsb3QIrSitAbw6orNDawpvFyI0VugOFN4fZH3xZdeyogjfUdZTAHwM4pJLXNLukJYUwARjey10WaF6gkXZcSLeJHHM0oxueOuRDqXbY8zBbB98V7Pk/QtZTNFX+IJtVwkmZtUB1VnCrma4NPaay+FJHOT6qGiTYEtxOkzZ9Jl2YKU48Y0ydykuqloU8gnt+y1QblEm2RuUt1U5T0FIUlCUxBioCkIMQy6/vrBgRByBZqCEANNQYiBpiDEQFMQYqApCDEUbYqRI+vC/fdPCKdPTw1bt47NaEMZ9WhHnG4jpNIp2hTHj08Ov/lNc/jssxlh377xGW333Tc+Vd8ctSNOtxFS6RRlCnz6nz8/Lfz61zPCzp3j3Jh77qmPDIO4SrtatO1ZFrZfPBTGt0512yuBJOZYSM6RE8eGTT/fH259+R63vVIZ0zghrHxmV7jhofW92to6l4dVz3eGKYtn9mrTFH2leP31y6bYvt03BerRjjivvT+hKWgK26YpyRS4EtxxR73bjnq00xTF0d+mqFb6zRRDhgwOZ89OC59/3tzrfkJAPdoRh3gvpr+gKWgK26Yp2BRTpgyNvlnCTfQ77zSG2bOHu3GoRzviEI9+XpwFl2uABez8vDti18ddYcbq+RlxN3dtSbcDlHW7FyNbASsO5MYY2C5g2+D19fIjn7Qj3w0HNvQSneSWuHy3I56A8R51kss7L6CU4xZk+6SPW6+JzivEjSvI+HjV5wRlHVcK/WKKpqZh4Y03Ll8lcBVobvZNgXq0476ip6ehIFPYE4qTrQWARV3x9M50uyyuPrnorwWg+8jioA7gvV78fPNrMUmMFR3KMu9C9ul6jihLfk+k5TpujTWFPRadF9hxpb8+RzJfXYf8ul+p9Ov26aWXGvK6pyh0+2TFBuwCWWy7XUCLiGPGqstxuUSab34tOpSR187ZxsTh5fLmqevLedz2mLPNO25cW48c+sMNIB9i0CZ1pdCvN9onTkzJek9R7I12PosP5GTKJRjoBbTG0sjioH+cMIrJj3r0QV8Rle4vSIwdQwvGy4U6PZ7EyVzi5qVjcx23IGPKMevj8YzujSt9ZN54lWOSGDkHElMqo6bUp65gO8LNR7eGEeNGZ7QteXB9uOXE7jC+pSGj3lK0KZL6StaK36vHomBx5ETaBYxbJAHtIg4vrtj8qM9HyPmQby49F/3exklstuPWyJjWACJibY64cSWHzBuvckwSU25TDBk2NCw9eFtY/fwdYdpNs9P19TOnhJXHdoZlT2wLI8aPyehjKdkUcT+8Qz3aC/3hnWcKfeK8xbJ19rJtkcVpWNIS9dMLmk9+9Nef6gLa9aJ7x5IvVkBxuXR9Kcdt8c6DBvXSP25cW2+PCZTbFKBpxbyw+id3htUv3JkyyMboCoEtFepmrlvo9tEUbYonn5wcvviiORK+3UKhjHp88/TEE5My2nKBBbaXaNTpk6mFABCbqw9evRtOWXwtkFz5vT5YePkUljExjr7iSBy+pZJyHFZAkl8fI2KsOUs9bilLu4yHvvo4UG/76nGlvz6P9pgA3qNO5y6VwYPrQuOyuWF5ahu1tueuiBWpqwQMgTavj6ZoU9TXDwmPPjoxnDnj/0IgbsR37RpX8K944CQKEBSIO5HSjgPWC6hzSQyQE28XR/KJwPLJL4suMXi/8L41veaKsSQG2PY4PAGJMXLlKva40Q/HEWcKnVPiZExgx7Xr4R2TzEHmWAkUbYqkwIkFXlul4y16tSKmqCSx9hU0RRmp5rlbKvETvK+gKYoAn6KYo74iYKtg9/fVDI7H2yINBGiKIsEc9f65Vgwhx1Ur28BiqDhTENLf0BSEGGgKQgw0BSEGmoIQA01BiIGmIMRAUxBioCkIMdAUhBiKNgV+JZzPkiW1SNGm4LNkSa1SlCnw6V/Nz5Lt2rcmfP3ewbA8x1Md+hrM63e/PBzu3tzhthOfdcvmhDeO7w5vn+wMR/audmMe3L08an/tyZ2hPccvOhZ9pUjqwQV9AU1RW2hTvNK1LbQ0Tcxob5xcH04d2RJ+fmJP8qbI57lPNAVJGjHFq0e3hzef2RN2rV+U0b5pZVs49/Su8NPHtyVnimp/lixNUVuIKZ66f11K9Dui1yF1l7fseEX5la6t4YWDm5MxRdLPkv3g1N4ICPf3H3ZFeFuKM93b0+0AZd3uxSAv6q0pkBtjfHHugdA6/fLTR/LJj3zSjnw9h27vZTbJLXEyBw87L8wFc5K+9jzocwT0/AFikU/ySpx3LNWMmOLRu26JDPB6SvhL22dEbW0tDeH0E9vDwTtvCSce2pCMKZJ+lqwITYsHi6gFAdHgJEi7CA+LL3XorwWm+2jxAbzXQsk3vxahxOgxRZQybxF5nDH0vFBGnI6F6SSXPScSb8e3c8IYtl+1I6aA8LFVwvu9Wy4fH16xdVrV0ZqcKUCSz5K1YgMiprhPONuOBdditIj47t58Q/QaJ1Ih3/yeqO2cbUxcW7ZjRjviEJ+tHvOzZs51LqsRbYrmaROirVLPoc2hqWF8eO6RTRFjRo5I1hQgqWfJQkieSG29CEC2BHpbABFg4SEAidegXT5BvbFAMflRjz5a1Lq/IDG6r+0vZS8eYv/yrQNuDhyPzNMzb62bAmV8/Xr+2K6wb+uN0VVCrhqJmyKpr2St+L16LCjEAtGgbBc6TrQC2sUUXlyx+VEvApY+kiMfdH9dL/ORNpoiE2uKlUtmRWbATTfuJ3Bfgfo+M0W5nyXrmQKLj8WFaLxFtXWeGDQivttXzY/6ARF4PvnR39uXo12Ei7J3LNmIMwXQ50C/j4tBeaCaAlulkwdui35uob+JStwUST1LFiLCp6JeNNRpsVixITZXH7zixOG9Fp+IRBsjV36vD4QnVx8ZE+PoK47E4YZZ95F2Oy985y75UYc2icVcrDExZzsn9NExMnd9rqodawrQuXFJqm5P9MEndYmbIqlnyYogAQQFtNCACETaIR5voXUO4IlP5xOR5ZNfxCUxeH/8wQ295oqxJAbo9lym0PmBxAmYj27H8er2gWKKclO0KZJCDOG1VTrWbIWC/hCsfNKT/oGmKCOlzh2f3jRF/0NTFAFEiznqKwIEbff4hYBcuMrYLRLpe2iKIsEc9X6+WEPIfQVycJ9fGVScKQjpb2gKQgw0BSEGmoIQA01BiIGmIMRAUxBioCkIMZTBFHVh+MSpYWLH2jD55o3RK8qo9+MJqWxKMEVdGL9gWWh/7Gdh8fFfhHkHfhJm3dUV5tx/Iix6+u2oHu00B6k2ijLF4KHDQ8udj0Xin7JyS1TOaK8bEiYtXRcWHD0bmnc93KudkEqmCFPUhaZNe8OCx18Po6fPSdfXty0NM7Y9EIZPuPynf2DEpMbQ9ujLUTyvGP1Hc/PMcOHChXDy5Em3nWRSsCnGti4KC598M0xYtDJdN3R0fWg7eCosefZvw8zOQxnxo2fMDe1dr0X9dH0cWLhLly5l8NFHH4WOjqUZcWfPns0rTmLj2lCHNpvr008/DTt27OgVL+Pu37+/V5uAfuiPWKmLG0fHJAVNURgFmwKib733qTB4yLB0Hd633HE4LErdW+BGW8eDGdvuj9rzuVpg4bCAWEip80SNunwEBYGiL/CELGK1bSh7okX54sWLWccWY+uYuHH6ApqiMAoyxZBRY8O8R14MU1Zc/htjj7rhI3vV1bfdGOY93BOGjvEfh6PxTAFBQYj6kxuCyyZMAfkQ5+UF2cQqn/i6DbnEZN6VROb61ltv0RRVSkGmwP1C+2NnIpFLHUzQtPnesLD7jWj71Lq3O6MPGDm1Odpe6fuNODzxyqd9oaYQMUCInrFALrHacaQMPJEhD8bs6Xkxo1+hpkAc4ru7u9NbLTkvGNfW6b5iZonBXBBHU+RHyaYQYIY4U+CGHDfcxZhChK0FBkSYus4iwoIgUfb65BKrnY/kgPBgMskNZK7IhX56rGJMAUFLDunv1WmxiyH0OIhHP5oiP8q2fcpmigkLV4T5h34aho3L/bfHWDj5hAO5bng1WoQSo+sgFG0SkEusqPdMoQ0gsZgntk1oizOFnXO2ce1ckdOr8+Yn7UDmSlPkR1lutEG8Keqim+xZe5+I3me29UYvsiymXnTBW3wNhGO3S54BvDpNNtGhj20T4eFVzy/XOJY4U9hz4Z0vO4bUy9xIdgo2RfSVbPf5UD//poz6tCn2PZkqXxH/uNmLw4InzvWKj8MufJyYtDg9kMd+Kgv55Be00KUs4yIHrgwwHvIgr4gYffT8co1joSn6j4JNAcHjh3H4NY5R01qiuobVO6Jf8RBQRj3a8TMK/PTbXlniiFt4KxAtTks2EUAwekuWTayeMO24iEEZY+nx8F7H9aUp7HmRsfX8SDxFmOLyr3lA/IuefitMWb45+rWOjPZUGfVox5VjyMgxGe3Z8BbeW2y8t4svQPAQgd46CZJLBBInVuT27mfsuOiPbRpyWgHbuGymwDj6BrkYU0g/XA31OJgH6uSYSXaKMgXQwscvBOIXAeUXAlEGjbfdU/DvPXkLD+xiy0Jb0I42L4eAMURwIlabRwtag3rbhny56uLGkXmUyxRAzpVw6NDhKAaxEkPiKdoUAkQ/dvaiaEsFU+AXAPFtk/dDPEKqgZJNQUitQVMQYqApCDHQFIQYaApCDDQFIQaaghADTUGIgaYgxEBTEGKgKQgx0BSEGGgKQgw0BSGGspkCj8jE31KMmNzkthNSLZRsirrho8LUNbvC3Ieej/5GG3+mir/L9mKrCfx/a/yz92L/WbxHEjnJ4LBu2ZzwxvHd4e2TneHI3tVuzIO7l0ftrz25M7S34l9F9I4RSjLFqMbW6HlOMIPGe3RmtUFTVA/aFK90bQstTRMz2hsn14dTR7aEn5/Yk7wpZt39eC9D0BTx0BTJIKZ49ej28OYze8Ku9ZkP8960si2ce3pX+Onj25I3xbR1nb0MsejYO3k/YbySoSmqBzHFU/evS4l+R/Q6pO7yY5bwivIrXVvDCwc3J2sKPLigcePdYfGJCxmmmPvgc9F9htcnFx+c2huh61qnTwpfnHsgnOneHpUhqN/98nD4/YddEWhDjMR37VsTCa/n0O3p9jU3tqZzIH9cX40nYJmL9AcYT/cDqNMxMo7NuXzxzKgM8N7mIfkhpnj0rlsiA7yeEv7S9hlRW1tLQzj9xPZw8M5bwomHNiRrCvwHoyUn388wxOJn3g3j2/Evvfw+uRBBa4FYIeHgpV1Eqo0kgtR1WswiYhGkmM0SJ2CdF20wqM6B96iTfhgbl3RrCm/upDjEFBA+tkp4v3fL5fOPV2ydVnW0JmuKISNGR//jThtCwLdQhTznSSNC0Z++8umu4zRol09ilNFXixLECdD21WgBZ4vV9WIcPX+N5Hxwz/KoT9zYpDC0KZqnTYi2Sj2HNoemhvHhuUc2RYwZOSJZU+Dp4QuOnnNNgavHxI5b3X75oE0gYrYiQ7u3PUEbYiE8fbWRPMgtdaAQU2BM21/ivnzrQDSefm/jJBY5AQ1RPrQpUMbXr+eP7Qr7tt4YXSXkqpGoKSbdtCF1L/Geb4oUTZv2/Tm2LgwbNzEMHVOf0T8bVmSfnPlRWjwo4yqgP/GtsCvdFJg/YuwcSfFYU6xcMisyA266cT+B+wrUJ2aKbFsnAaYY2dAc5vz4mdR9xnvRs2QLeTgaBAhxQ4RaiJ6IbV1SpoiL1fUYE33slU3QOXGMNEZ5sKbAVunkgduin1vob6ISvVKkfz6R2iotPpn57ROAEfCtVEvnoTB09Dg3RzYgKlwhgIhS6rWQ0IZP3nKYQgQtMVrAKEu7vkrJ+NoE6K/vaZDbu9FGG41RHqwpQOfGJam6PeH2VfPTdYmaYkxzW/QM2fmHXw3tXT/LNMTxX0T/i2JU02y3bz54AhRQp+8lILi+MAWQGBlfi1+DHBID4nLKvBCjjUX6l6JMAXCfgK0U/tXX5Js3RuB3nor95kkj4qNQSH9QtCmSxPu0J6SvqDhTxG11COkrKsoUshf37iUI6SsqcvtESH9CUxBioCkIMdAUhGQwOPw/DUBavfwLxM0AAAAASUVORK5CYII=" alt=""></p> <ul><li>在该文件中添加环境变量 REACT_APP_URL（注意：环境变量约定REACT_APP 开头）,设置 REACT_APP_URL=http://localhost:8080</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token constant">REACT_APP_URL</span> <span class="token operator">=</span>http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">8080</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>重新启动脚手架，脚手架在运行的时候就会解析这个文件</li> <li>在utils/url.js 中，创建 BASE_URL 变量，设置值为 process.env.REACT_APP_URL</li> <li>导出BASE_URL</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 配置baseURL</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">BASE_URL</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">REACT_APP_URL</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>在我们页面引入就能使用了</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span><span class="token constant">BASE_URL</span><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../utils/url.js'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="axios-优化-★★★"><a href="#axios-优化-★★★" class="header-anchor">#</a> axios 优化（★★★）</h2> <ul><li>在utils/api.js 中，导入 axios和BASE_URL</li> <li>调用 axios.create() 方法创建一个axios实例</li> <li>给 create 方法，添加配置baseURL，值为 BASE_URL</li> <li>导出API对象</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">BASE_URL</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./url.js'</span>

<span class="token comment">// 创建axios的配置文件，里面配置baseURL路径</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">baseURL</span><span class="token operator">:</span> <span class="token constant">BASE_URL</span>
<span class="token punctuation">}</span>

<span class="token comment">// 根据create 方法来构建axios对象</span>
<span class="token keyword">const</span> instance <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> instance <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ul><li>导入API，代替之前直接利用axois请求的代码</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>instance<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../utils/api.js'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h1 id="列表找房功能"><a href="#列表找房功能" class="header-anchor">#</a> 列表找房功能</h1> <h2 id="目标-2"><a href="#目标-2" class="header-anchor">#</a> 目标</h2> <ul><li>说出抽取搜索导航栏的好处</li> <li>能够说出抽取搜索导航栏的思路，并且参照老师代码能够实现抽取功能</li> <li>能够说出条件筛选功能的大致思路，Filter组件作用，FilterTitle组件作用，FilterPicker组件作用，FilterFooter组件作用</li> <li>能够参照老师代码实现FilterTitle组件中的逻辑代码</li> <li>能够参照老师代码实现FilterPicker组件的逻辑代码</li></ul> <h2 id="功能分析"><a href="#功能分析" class="header-anchor">#</a> 功能分析</h2> <ul><li>搜索导航栏组件的封装</li> <li>条件筛选栏组件封装</li> <li>条件筛选栏吸顶功能</li> <li>房屋列表</li></ul> <h2 id="顶部搜索导航栏"><a href="#顶部搜索导航栏" class="header-anchor">#</a> 顶部搜索导航栏</h2> <h3 id="封装搜索导航栏组件-★★★"><a href="#封装搜索导航栏组件-★★★" class="header-anchor">#</a> 封装搜索导航栏组件（★★★）</h3> <ul><li>在components 目录中创建组件 SearchHeader/index.js</li> <li>把之前写过的结构拷贝到这个文件中</li> <li>然后把跟首页相关的数据去掉，标题，城市名称</li> <li>通过props来进行传递</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Flex <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'antd-mobile'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>withRouter<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span>
<span class="token keyword">import</span> <span class="token string">'./index.scss'</span>
<span class="token keyword">import</span> PropTypes <span class="token keyword">from</span> <span class="token string">'prop-types'</span>

<span class="token keyword">function</span> <span class="token function">SearchHeader</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> history<span class="token punctuation">,</span> cityName<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>Flex className<span class="token operator">=</span><span class="token string">'search-box'</span><span class="token operator">&gt;</span>
            <span class="token punctuation">{</span><span class="token comment">/* 左侧白色区域 */</span><span class="token punctuation">}</span>
            <span class="token operator">&lt;</span>Flex className<span class="token operator">=</span><span class="token string">&quot;search&quot;</span><span class="token operator">&gt;</span>
                <span class="token punctuation">{</span><span class="token comment">/* 位置 */</span><span class="token punctuation">}</span>
                <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;location&quot;</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/citylist'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>span className<span class="token operator">=</span><span class="token string">&quot;name&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>cityName<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>i className<span class="token operator">=</span><span class="token string">&quot;iconfont icon-arrow&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

                <span class="token punctuation">{</span><span class="token comment">/* 搜索表单 */</span><span class="token punctuation">}</span>
                <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;form&quot;</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/search'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>i className<span class="token operator">=</span><span class="token string">&quot;iconfont icon-seach&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>span className<span class="token operator">=</span><span class="token string">&quot;text&quot;</span><span class="token operator">&gt;</span>请输入小区或地址<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>Flex<span class="token operator">&gt;</span>
            <span class="token punctuation">{</span><span class="token comment">/* 右侧地图图标 */</span><span class="token punctuation">}</span>
            <span class="token operator">&lt;</span>i className<span class="token operator">=</span><span class="token string">&quot;iconfont icon-map&quot;</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/map'</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Flex<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 设置校验</span>
SearchHeader<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">cityName</span><span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">.</span>isRequired
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">withRouter</span><span class="token punctuation">(</span>SearchHeader<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h3 id="把搜索导航栏引入到houselist中-调整相应样式"><a href="#把搜索导航栏引入到houselist中-调整相应样式" class="header-anchor">#</a> 把搜索导航栏引入到HouseList中,调整相应样式</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> SearchHeader <span class="token keyword">from</span> <span class="token string">&quot;../../components/SearchHeader&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token punctuation">{</span>label<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'localCity'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">HouseList</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
 <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'houseList'</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>SearchHeader cityName<span class="token operator">=</span><span class="token punctuation">{</span>label<span class="token punctuation">}</span><span class="token operator">&gt;</span> <span class="token operator">&lt;</span><span class="token operator">/</span>SearchHeader<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><ul><li><p>在找房页面SearHeader组件基础上，调整结构</p> <ul><li>我们需要SearHeader组件样式，所以我们还需要传递className的属性进去，调整一下SearchHeader组件</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">SearchHeader</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> history<span class="token punctuation">,</span> cityName<span class="token punctuation">,</span> className <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token comment">// search-box 这个样式不能去掉，所以我们可以先通过数组的方式，添加多个类名，然后利用 join 方法转成字符串</span>
    <span class="token operator">&lt;</span>Flex className<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token string">&quot;search-box&quot;</span><span class="token punctuation">,</span> className <span class="token operator">||</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
    <span class="token operator">...</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Flex<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li> <li><p>给SearchHeader组件传递className属性，来调整组件样式，让其适应找房页面效果，下面是HouseList的头布局</p></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>Flex className<span class="token operator">=</span><span class="token punctuation">{</span>style<span class="token punctuation">.</span>header<span class="token punctuation">}</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>i className<span class="token operator">=</span><span class="token string">'iconfont icon-back'</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>i<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>SearchHeader cityName<span class="token operator">=</span><span class="token punctuation">{</span>label<span class="token punctuation">}</span> className<span class="token operator">=</span><span class="token punctuation">{</span>style<span class="token punctuation">.</span>searchHeader<span class="token punctuation">}</span><span class="token operator">&gt;</span> <span class="token operator">&lt;</span><span class="token operator">/</span>SearchHeader<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>Flex<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>创建 index.module.css,设置相应的样式，修改了一些组件中的全局样式，所以我们需要通过 :global来设置</li></ul> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* 覆盖 searchHeader的样式 */</span>

<span class="token selector">.header</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 45px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #f5f6f5<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0 10px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">/* 控制左侧小箭头 */</span>

<span class="token selector">.header :global(.icon-back)</span> <span class="token punctuation">{</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #999<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">/* 控制右侧的图标 */</span>

<span class="token selector">.header :global(.icon-map)</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #00ae66<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">/* 控制search输入框 */</span>

<span class="token selector">.header :global(.search)</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.searchHeader</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h2 id="条件筛选"><a href="#条件筛选" class="header-anchor">#</a> 条件筛选</h2> <p><img src="/my-blog/assets/img/找房页面分析.63d88918.png" alt=""></p> <h3 id="结构分析"><a href="#结构分析" class="header-anchor">#</a> 结构分析</h3> <ul><li>父组件：Filter</li> <li>子组件：FilterTitle 标题菜单组件</li> <li>子组件：FilterPicker 前三个菜单对应的内容组件</li> <li>子组件：FilterMore 最后一个菜单对应的内容组件</li></ul> <h3 id="功能分析-2"><a href="#功能分析-2" class="header-anchor">#</a> 功能分析</h3> <ul><li>点击FilterTitle组件菜单，展开该条件筛选对话框，被点击的标题高亮</li> <li>点击取消按钮或空白区域，隐藏对话框，取消标题高亮</li> <li>选择筛选条件后，点击确定按钮，隐藏对话框，当前标题高亮</li> <li>打开对话框时，如果有选择的条件，那么默认显示已选择的条件</li> <li>打开对话框已经隐藏对话框有动画效果</li> <li>吸顶功能</li></ul> <h3 id="filtertitle组件实现-★★★"><a href="#filtertitle组件实现-★★★" class="header-anchor">#</a> FilterTitle组件实现（★★★）</h3> <h4 id="思路"><a href="#思路" class="header-anchor">#</a> 思路</h4> <ul><li>根据标题菜单数据，渲染标题列表</li> <li>标题可以被点击</li> <li>标题高亮
<ul><li>点击时高亮</li> <li>有筛选条件选中时</li> <li>标题高亮状态：提升至父组件Filter中，由父组件提供高亮状态，子组件通过props接受状态来实现高亮</li> <li>原则：单一数据源，也就是说，状态只应该有一个组件提供并且提供操作状态的方法，其他组件直接使用组件中状态和操作状态的方法即可</li></ul></li></ul> <h4 id="步骤"><a href="#步骤" class="header-anchor">#</a> 步骤</h4> <ul><li>通过props接受，高亮状态对象 titleSelectedStatus</li> <li>遍历titleList数组，渲染标题列表</li> <li>判断高亮对象中当前标题是否高亮，如果是，添加高亮类</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// FilterTitle</span>
<span class="token comment">// 条件筛选栏标题数组：</span>
<span class="token keyword">const</span> titleList <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;区域&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;area&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;方式&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;mode&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;租金&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;price&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;筛选&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;more&quot;</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">FilterTitle</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>titleSelectedStatus<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Flex align<span class="token operator">=</span><span class="token string">&quot;center&quot;</span> className<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>root<span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token comment">/* 遍历标题数组 */</span><span class="token punctuation">}</span>
      <span class="token punctuation">{</span>titleList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 获取父组件传递过来的状态</span>
        <span class="token keyword">let</span> isSelected <span class="token operator">=</span> titleSelectedStatus<span class="token punctuation">[</span>item<span class="token punctuation">.</span>type<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>Flex<span class="token punctuation">.</span>Item key<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>type<span class="token punctuation">}</span><span class="token operator">&gt;</span>
            <span class="token punctuation">{</span><span class="token comment">/* 选中类名： selected */</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token string">&quot; &quot;</span><span class="token punctuation">}</span>
            <span class="token operator">&lt;</span>span
              className<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>
                styles<span class="token punctuation">.</span>dropdown<span class="token punctuation">,</span>
                <span class="token comment">// 判断当前的标题是否是选中状态，如果是，设置选中的样式</span>
                isSelected <span class="token operator">?</span> styles<span class="token punctuation">.</span>selected <span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
              <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
            <span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>i className<span class="token operator">=</span><span class="token string">&quot;iconfont icon-arrow&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>Flex<span class="token punctuation">.</span>Item<span class="token operator">&gt;</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Flex<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Filter</span>
<span class="token comment">/**
 * 标题高亮状态
 */</span>
<span class="token keyword">const</span> titleSelectedStatus <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">area</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">more</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Filter</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    titleSelectedStatus
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token punctuation">{</span> titleSelectedStatus <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>root<span class="token punctuation">}</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token comment">/* 前三个菜单的遮罩层 */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>content<span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token punctuation">{</span><span class="token comment">/* 标题栏 */</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token string">&quot; &quot;</span><span class="token punctuation">}</span>
          <span class="token operator">&lt;</span>FilterTitle titleSelectedStatus<span class="token operator">=</span><span class="token punctuation">{</span>titleSelectedStatus<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">...</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br></div></div><ul><li>给标题项绑定单击事件，在事件中调用父组件传过来的方法 onClick</li> <li>将当前标题type，通过onClick的参数，传递给父组件</li> <li>父组件中接受到当前type，修改改标题的选中状态为true</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// Filter </span>
<span class="token comment">/**
 * 标题高亮状态
 */</span>
<span class="token keyword">const</span> titleSelectedStatus <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">area</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">more</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Filter</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  <span class="token comment">// 父元素提供子元素调用的函数</span>
  <span class="token function-variable function">onTitleClick</span> <span class="token operator">=</span> <span class="token parameter">type</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">titleSelectedStatus</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>titleSelectedStatus<span class="token punctuation">,</span>
        <span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token punctuation">{</span> titleSelectedStatus <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>root<span class="token punctuation">}</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token string">&quot; &quot;</span><span class="token punctuation">}</span>
        <span class="token punctuation">{</span><span class="token comment">/* 前三个菜单的遮罩层 */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>content<span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token punctuation">{</span><span class="token string">&quot; &quot;</span><span class="token punctuation">}</span>
          <span class="token punctuation">{</span><span class="token comment">/* 标题栏 */</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token string">&quot; &quot;</span><span class="token punctuation">}</span>
          <span class="token operator">&lt;</span>FilterTitle
            <span class="token operator">...</span>
            onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onTitleClick<span class="token punctuation">}</span>
          <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">...</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token string">&quot; &quot;</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// FilterTitle</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">FilterTitle</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>titleSelectedStatus<span class="token punctuation">,</span>onClick<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Flex align<span class="token operator">=</span><span class="token string">&quot;center&quot;</span> className<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>root<span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token comment">/* 遍历标题数组 */</span><span class="token punctuation">}</span>
      <span class="token punctuation">{</span>titleList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>Flex<span class="token punctuation">.</span>Item key<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>type<span class="token punctuation">}</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">onClick</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
            <span class="token punctuation">{</span><span class="token comment">/* 选中类名： selected */</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token string">&quot; &quot;</span><span class="token punctuation">}</span>
            <span class="token operator">&lt;</span>span
              className<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>
                styles<span class="token punctuation">.</span>dropdown<span class="token punctuation">,</span>
                <span class="token comment">// 判断当前的标题是否是选中状态，如果是，设置选中的样式</span>
                isSelected <span class="token operator">?</span> styles<span class="token punctuation">.</span>selected <span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
              <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
            <span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>i className<span class="token operator">=</span><span class="token string">&quot;iconfont icon-arrow&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>Flex<span class="token punctuation">.</span>Item<span class="token operator">&gt;</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Flex<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br></div></div><h3 id="filterpicker-组件-★★★"><a href="#filterpicker-组件-★★★" class="header-anchor">#</a> FilterPicker 组件（★★★）</h3> <h4 id="思路分析"><a href="#思路分析" class="header-anchor">#</a> 思路分析</h4> <ul><li>点击前三个标题展示该组件，点击取消的时候隐藏</li> <li>使用PickerView组件来实现页面效果</li> <li>获取到PickerView组件中，选中的筛选条件值</li> <li>点击确定按钮，隐藏该组件，将获取到的筛选条件值传递给父组件</li> <li>展示或隐藏对话框的状态：由父组件提供，通过props传递给子组件</li> <li>筛选条件数据：由父组件提供（因为所有筛选条件是通过一个接口来获取的），通过props传递给子组件</li></ul> <h4 id="使用步骤"><a href="#使用步骤" class="header-anchor">#</a> 使用步骤</h4> <h5 id="定义opentype-实现filterpicker显示隐藏"><a href="#定义opentype-实现filterpicker显示隐藏" class="header-anchor">#</a> 定义openType，实现FilterPicker显示隐藏</h5> <ul><li>在Filter组件中，提供组件展示或隐藏的状态：openType</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token comment">// 控制FilterPicker或 FilterMore组件的展示和隐藏</span>
    <span class="token literal-property property">openType</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>在render方法中判断 openType的值为 area/mode/price 时，就显示 FilterPicker组件，以及遮罩层</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span><span class="token comment">/* 前三个菜单的遮罩层 */</span><span class="token punctuation">}</span> 
<span class="token punctuation">{</span> openType <span class="token operator">===</span> <span class="token string">&quot;area&quot;</span> <span class="token operator">||</span> openType <span class="token operator">===</span> <span class="token string">&quot;mode&quot;</span> <span class="token operator">||</span> openType <span class="token operator">===</span> <span class="token string">&quot;price&quot;</span> <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>mask<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">...</span>
<span class="token punctuation">{</span><span class="token comment">/* 前三个菜单对应的内容： */</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span>openType <span class="token operator">===</span> <span class="token string">&quot;area&quot;</span> <span class="token operator">||</span> openType <span class="token operator">===</span> <span class="token string">&quot;mode&quot;</span> <span class="token operator">||</span> openType <span class="token operator">===</span> <span class="token string">&quot;price&quot;</span> <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>FilterPicker <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>在 onTitleClick方法中，修改状态 openType为当前 type，展示对话框</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 父元素提供子元素调用的函数</span>
<span class="token function-variable function">onTitleClick</span> <span class="token operator">=</span> <span class="token parameter">type</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">titleSelectedStatus</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span>titleSelectedStatus<span class="token punctuation">,</span>
      <span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">openType</span><span class="token operator">:</span> type
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>在Filter组件中，提供onCancel方法（作为取消按钮和遮罩层的事件）</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 取消,</span>
<span class="token function-variable function">onCancel</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 隐藏对话框</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">openType</span><span class="token operator">:</span><span class="token string">''</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>在onCancel方法中，修改状态 openType为空，隐藏对话框</li> <li>讲onCancel通过props传递给FilterPicker组件，在取消按钮的单击事件中调用该方法</li> <li>在Filter组件中，提供onSave方法，作为确定按钮的事件处理</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 在父组件 Filter中定义 确定和取消的函数</span>
<span class="token comment">// 取消</span>
<span class="token function-variable function">onCancel</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 隐藏对话框</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">openType</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 保存，隐藏对话框</span>
<span class="token function-variable function">onSave</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">openType</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 传递给FilterPicker</span>
<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
       <span class="token operator">...</span>
       <span class="token operator">&lt;</span>FilterTitle
		  titleSelectedStatus<span class="token operator">=</span><span class="token punctuation">{</span>titleSelectedStatus<span class="token punctuation">}</span>
		  onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onTitleClick<span class="token punctuation">}</span>
		<span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 在FilterPicker里面进行一次中转，最后这个按钮是在FilterFooter里面</span>
<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> <span class="token punctuation">{</span> onCancel <span class="token punctuation">,</span>onSave<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token comment">/* 选择器组件： */</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>PickerView data<span class="token operator">=</span><span class="token punctuation">{</span>province<span class="token punctuation">}</span> value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">null</span><span class="token punctuation">}</span> cols<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

      <span class="token punctuation">{</span><span class="token comment">/* 底部按钮 */</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>FilterFooter onCancel<span class="token operator">=</span><span class="token punctuation">{</span>onCancel<span class="token punctuation">}</span> onOk<span class="token operator">=</span><span class="token punctuation">{</span>onSave<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 在FilterFooter里面调用</span>
<span class="token keyword">function</span> <span class="token function">FilterFooter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  cancelText <span class="token operator">=</span> <span class="token string">'取消'</span><span class="token punctuation">,</span>
  okText <span class="token operator">=</span> <span class="token string">'确定'</span><span class="token punctuation">,</span>
  onCancel<span class="token punctuation">,</span>
  onOk<span class="token punctuation">,</span>
  className
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Flex className<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>styles<span class="token punctuation">.</span>root<span class="token punctuation">,</span> className <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token comment">/* 取消按钮 */</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>span
        className<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>styles<span class="token punctuation">.</span>btn<span class="token punctuation">,</span> styles<span class="token punctuation">.</span>cancel<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        onClick<span class="token operator">=</span><span class="token punctuation">{</span>onCancel<span class="token punctuation">}</span>
      <span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>cancelText<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>

      <span class="token punctuation">{</span><span class="token comment">/* 确定按钮 */</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>span className<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>styles<span class="token punctuation">.</span>btn<span class="token punctuation">,</span> styles<span class="token punctuation">.</span>ok<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">}</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span>onOk<span class="token punctuation">}</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>okText<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Flex<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br></div></div><h5 id="获取筛选条件数据"><a href="#获取筛选条件数据" class="header-anchor">#</a> 获取筛选条件数据</h5> <ul><li>在Filter组件中，发送请求，获取所有筛选条件数据</li> <li>将数据保存为状态：filtersData</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 获取筛选数据</span>
  <span class="token keyword">async</span> <span class="token function">getFilterData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token punctuation">{</span> value <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&quot;localCity&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> instance<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/houses/condition?id=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">filtersData</span><span class="token operator">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>body
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li>封装方法 renderFilterPicker 来渲染FilterPicker组件</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 渲染FilterPicker组件的方法</span>
  <span class="token function">renderFilterPicker</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> openType <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>openType <span class="token operator">!==</span> <span class="token string">&quot;area&quot;</span> <span class="token operator">&amp;&amp;</span> openType <span class="token operator">!==</span> <span class="token string">&quot;mode&quot;</span> <span class="token operator">&amp;&amp;</span> openType <span class="token operator">!==</span> <span class="token string">&quot;price&quot;</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>FilterPicker onCancel<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onCancel<span class="token punctuation">}</span> onSave<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onSave<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
       <span class="token operator">...</span>
       <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderFilterPicker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ul><li>在方法中，根据openType的类型，从filtersData中获取需要的数据</li> <li>讲数据通过props传递给FilterPicker组件</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 渲染FilterPicker组件的方法</span>
  <span class="token function">renderFilterPicker</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span>
      openType<span class="token punctuation">,</span>
      <span class="token literal-property property">filtersData</span><span class="token operator">:</span> <span class="token punctuation">{</span> area<span class="token punctuation">,</span> subway<span class="token punctuation">,</span> rentType<span class="token punctuation">,</span> price <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>openType <span class="token operator">!==</span> <span class="token string">&quot;area&quot;</span> <span class="token operator">&amp;&amp;</span> openType <span class="token operator">!==</span> <span class="token string">&quot;mode&quot;</span> <span class="token operator">&amp;&amp;</span> openType <span class="token operator">!==</span> <span class="token string">&quot;price&quot;</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token comment">// 拼接数据</span>
    <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// pickerView显示的列数</span>
    <span class="token keyword">let</span> cols <span class="token operator">=</span> <span class="token number">3</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>openType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token string">&quot;area&quot;</span><span class="token operator">:</span>
        <span class="token comment">// 区域数据</span>
        data <span class="token operator">=</span> <span class="token punctuation">[</span>area<span class="token punctuation">,</span> subway<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token string">&quot;mode&quot;</span><span class="token operator">:</span>
        <span class="token comment">// 方式数据</span>
        data <span class="token operator">=</span> rentType<span class="token punctuation">;</span>
        cols <span class="token operator">=</span> <span class="token number">1</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token string">&quot;price&quot;</span><span class="token operator">:</span>
        <span class="token comment">// 租金数据</span>
        data <span class="token operator">=</span> price<span class="token punctuation">;</span>
        cols <span class="token operator">=</span><span class="token number">1</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>FilterPicker onCancel<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onCancel<span class="token punctuation">}</span> onSave<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onSave<span class="token punctuation">}</span> data<span class="token operator">=</span><span class="token punctuation">{</span>data<span class="token punctuation">}</span> cols<span class="token operator">=</span><span class="token punctuation">{</span>cols<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><ul><li>FilterPicker组件接收到数据后，讲其作为PickerView组件的data</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">FilterPicker</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token punctuation">{</span> onCancel<span class="token punctuation">,</span> onSave<span class="token punctuation">,</span> data <span class="token punctuation">,</span>cols<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token comment">/* 选择器组件： */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>PickerView data<span class="token operator">=</span><span class="token punctuation">{</span>data<span class="token punctuation">}</span> value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">null</span><span class="token punctuation">}</span> cols<span class="token operator">=</span><span class="token punctuation">{</span>cols<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

        <span class="token punctuation">{</span><span class="token comment">/* 底部按钮 */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>FilterFooter onCancel<span class="token operator">=</span><span class="token punctuation">{</span>onCancel<span class="token punctuation">}</span> onOk<span class="token operator">=</span><span class="token punctuation">{</span>onSave<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://gitee.com/qarabala/my-blog/edit/master/docs/article/09-React/02-好租客/react好租客项目Day06.md" target="_blank" rel="noopener noreferrer">在 Gitee 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">最近更新时间:</span> <span class="time">5/5/2022, 5:10:51 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/my-blog/article/09-React/02-好租客/react好租客项目Day05-根据定位展示对应城市&amp;地图找房模块封装&amp;loading美化.html" class="prev">
        地图找房模块
      </a></span> <span class="next"><a href="/my-blog/article/09-React/02-好租客/react好租客项目Day07-条件筛选功能实现&amp;FilterTitle组件功能实现&amp;房屋列表数据获取.html">
        列表找房模块-条件筛选
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/my-blog/assets/js/app.7c428a71.js" defer></script><script src="/my-blog/assets/js/3.bb9bf636.js" defer></script><script src="/my-blog/assets/js/85.87853e7d.js" defer></script>
  </body>
</html>
